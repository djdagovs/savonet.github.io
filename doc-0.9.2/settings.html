<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
  <title>Savonet / Liquidsoap 0.9.2 :: Multimedia Stream Generation</title>
  <link href="../css/new.css" type="text/css" rel="stylesheet" />
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.17/themes/base/jquery-ui.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="http://www.google.com/jsapi"></script>
  <link rel="shortcut icon" href="../favicon.ico" />
  <script>
    google.load("jquery", "1.6.1");
    google.load("jqueryui", "1.8.14");
  </script>
  <script type="text/javascript" src="../js/jQuery.syntax/jquery.syntax.min.js"></script>
  <script type="text/javascript" src="../js/liq-jquery.js"></script>
</head>
<body>
  <div class="menu">
    <ul>
      <li id="menu-developers">
        <a href="https://github.com/savonet/liquidsoap/issues" target="_blank">developers</a></li>
      <li id="menu-flows"><a href="http://flows.liquidsoap.fm/">Flows!</a></li>
      <li id="menu-doc-api-www">
        <a href="reference.html">API</a></li>
      <li id="menu-support">
        <a href="documentation.html">documentation</a></li>
      <li id="menu-download">
        <a href="../download.html">download</a></li>
      <li id="menu-about">
        <a href="../index.html">about</a></li>
    </ul>
  </div>
  <div class="section" id="main">
    <h1>Liquidsoap 0.9.2 : Liquidsoap language settings</h1>
    <div class="content">
      <h2>Liquidsoap configuration</h2>
<h3>ALSA configuration</h3>
<h4>Buffer size, in frames.</h4>
<p>
Default: <code>1</code>
</p>
<pre class="syntax ">set("alsa.buffer_length",1)
</pre>
<p>
This is only used for buffered ALSA I/O, and affects the latency.
</p>
<h4>Number of periods</h4>
<p>
Default: <code>5</code>
</p>
<pre class="syntax ">set("alsa.periods",5)
</pre>
<h3>Audio settings</h3>
<h3>Conversion settings</h3>
<h3>Samplerate conversion settings</h3>
<h3>Libsamplerate conversion settings</h3>
<h4>Resampling quality</h4>
<p>
Default: <code>"zero_order"</code>
</p>
<pre class="syntax ">set("audio.converter.samplerate.libsamplerate.quality","zero_order")
</pre>
<p>
Resampling quality, one of: “best”, “medium”, “fast”, “zero_order”, “linear”. Refer to ocaml-samplerate for details.
</p>
<h4>Prefered samplerate converter</h4>
<p>
Default: <code>"libsamplerate"</code>
</p>
<pre class="syntax ">set("audio.converter.samplerate.prefered","libsamplerate")
</pre>
<p>
Prefered samplerate converter.
</p>
<h3>Parameters for buffering.</h3>
<h4>Kind of buffering for audio data (default|raw|disk|disk_manyfiles).</h4>
<p>
Default: <code>"default"</code>
</p>
<pre class="syntax ">set("buffering.kind","default")
</pre>
<p>
If set to raw, liquidsoap will use raw s16le pcm format 
when buffering audio data.
If set to disk, liquidsoap will store buffered data on 
disk (disk_manyfiles is the same but is a bit faster at 
the expense of creating many files).
Both non-default options can save a lot of memory when 
buffering a lot of data, at the cost of some computational power.
</p>
<h4>Path where data buffered on disk should be put.</h4>
<p>
Default: <code>"/tmp"</code>
</p>
<pre class="syntax ">set("buffering.path","/tmp")
</pre>
<h3>Decoding settings</h3>
<h4>Duration of the decoding buffer, in seconds</h4>
<p>
Default: <code>10.</code>
</p>
<pre class="syntax ">set("decoding.buffer_length",10.)
</pre>
<p>
The decoding buffer contains some amount of data decoded in advance.
High values give better remaining time estimation, but cost more.
A value of D guarantees that the remaining time is computed exactly
starting D seconds before the end of track. Hence it is usually good
to set this to the higher duration used in cross(), fade.out() and
similar operators.
</p>
<h3>Frame format</h3>
<h4>Number of channels</h4>
<p>
Default: <code>2</code>
</p>
<pre class="syntax ">set("frame.channels",2)
</pre>
<h3>MIDI parameters</h3>
<h4>MIDI channels</h4>
<p>
Default: <code>0</code>
</p>
<pre class="syntax ">set("frame.midi.channels",0)
</pre>
<h4>Internal samplerate</h4>
<p>
Default: <code>44100</code>
</p>
<pre class="syntax ">set("frame.samplerate",44100)
</pre>
<h4>Frame size in samples</h4>
<p>
Default: <code>1764</code>
</p>
<pre class="syntax ">set("frame.size",1764)
</pre>
<p>
Tweaking this is tricky but can be useful, since the latency is
proportional to the frame size. It can also help to get ALSA correctly
synchronized with liquidsoap when used in non-buffered mode.
With video enabled, frame duration should be a multiple of 
audio and video frame duration, in order to maintain synchronization.
</p>
<h3>Video format</h3>
<h4>Video channels</h4>
<p>
Default: <code>0</code>
</p>
<pre class="syntax ">set("frame.video.channels",0)
</pre>
<h4>Video frames per second</h4>
<p>
Default: <code>25</code>
</p>
<pre class="syntax ">set("frame.video.fps",25)
</pre>
<h4>Video frame height</h4>
<p>
Default: <code>240</code>
</p>
<pre class="syntax ">set("frame.video.height",240)
</pre>
<h4>Video frame width</h4>
<p>
Default: <code>320</code>
</p>
<pre class="syntax ">set("frame.video.width",320)
</pre>
<h3>Builtin HTTP stream receiver.</h3>
<h4>IP address on which the HTTP stream receiver should listen.</h4>
<p>
Default: <code>"0.0.0.0"</code>
</p>
<pre class="syntax ">set("harbor.bind_addr","0.0.0.0")
</pre>
<h4>Enable the builtin ICY (shout) stream receiver.</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("harbor.icy",false)
</pre>
<h4>Content-type (mime) of formats which allow shout metadata update.</h4>
<p>
Default: <code>["audio/mpeg","audio/aacp","audio/aac","audio/x-aac"]</code>
</p>
<pre class="syntax ">set("harbor.icy.metadata_formats",["audio/mpeg","audio/aacp","audio/aac","audio/x-aac"])
</pre>
<h4>Default password for source connection.</h4>
<p>
Default: <code>"hackme"</code>
</p>
<pre class="syntax ">set("harbor.password","hackme")
</pre>
<h4>Display passwords, for debugging.</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("harbor.password.verbose",false)
</pre>
<h4>Port on which the HTTP stream receiver should listen.</h4>
<p>
Default: <code>8005</code>
</p>
<pre class="syntax ">set("harbor.port",8005)
</pre>
<h4>Perform reverse DNS lookup to get the client's hostname from its IP.</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("harbor.reverse_dns",true)
</pre>
<h4>Timeout for source connections.</h4>
<p>
Default: <code>30.</code>
</p>
<pre class="syntax ">set("harbor.timeout",30.)
</pre>
<h4>Default username for source connection.</h4>
<p>
Default: <code>"source"</code>
</p>
<pre class="syntax ">set("harbor.username","source")
</pre>
<h3>initialization configuration</h3>
<h4>catch exceptions, use false to backtrace exceptions</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("init.catch_exn",true)
</pre>
<h4>run initialization using concurrent threads</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("init.concurrent",false)
</pre>
<h4>run in daemon mode</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("init.daemon",false)
</pre>
<h4>support for pidfile generation</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("init.daemon.pidfile",true)
</pre>
<h4>path to pidfile</h4>
<p>
Default: <code>"&lt;sysrundir&gt;/&lt;script&gt;.pid"</code>
</p>
<pre class="syntax ">set("init.daemon.pidfile.path","&lt;sysrundir&gt;/&lt;script&gt;.pid")
</pre>
<h4>dump an initialization trace</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("init.trace",false)
</pre>
<h3>JACK settings</h3>
<h4>Client name</h4>
<p>
Default: <code>"liquidsoap-&lt;pid&gt;"</code>
</p>
<pre class="syntax ">set("jack.client_name","liquidsoap-&lt;pid&gt;")
</pre>
<p>
Name of the JACK client, where &lt;pid&gt; is replaced by liquidsoap's PID,
and &lt;script&gt; by the base name of the .liq script if one is used.
</p>
<h4>Ringbuffer coefficient</h4>
<p>
Default: <code>8</code>
</p>
<pre class="syntax ">set("jack.ringbuffer_coeff",8)
</pre>
<p>
The ringbuffer between us and the Jack engine, interleaved. The
multiplication by 8 is an heuristic which seems to avoid underruns.
Should be supperior or equal to 4.
</p>
<h3>log configuration</h3>
<h4>log to file</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("log.file",true)
</pre>
<h4>append log to the file</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("log.file.append",true)
</pre>
<h4>path to log file</h4>
<p>
Default: <code>"&lt;syslogdir&gt;/&lt;script&gt;.log"</code>
</p>
<pre class="syntax ">set("log.file.path","&lt;syslogdir&gt;/&lt;script&gt;.log")
</pre>
<h4>log file permissions</h4>
<p>
Default: <code>384</code>
</p>
<pre class="syntax ">set("log.file.perms",384)
</pre>
<h4>general log level</h4>
<p>
Default: <code>3</code>
</p>
<pre class="syntax ">set("log.level",3)
</pre>
<h4>log to stdout</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("log.stdout",false)
</pre>
<h4>display unix timestamps (subsecond accuracy, timezone independant)</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("log.unix_timestamps",false)
</pre>
<h3>Mad (mp3) decoding options.</h3>
<h4>Enable magic mime test, if compiled.</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("mad.check_mime",true)
</pre>
<h4>Mime-types used for guessing formats</h4>
<p>
Default: <code>["audio/mpeg","application/octet-stream","video/x-unknown"]</code>
</p>
<pre class="syntax ">set("mad.mime_types",["audio/mpeg","application/octet-stream","video/x-unknown"])
</pre>
<h3>Parameters for the mpd protocol.</h3>
<h4>MPD host.</h4>
<p>
Default: <code>"127.0.0.1"</code>
</p>
<pre class="syntax ">set("mpd.host","127.0.0.1")
</pre>
<h4>Directory where MPD's music is located.</h4>
<p>
Default: <code>"/var/lib/mpd/music"</code>
</p>
<pre class="syntax ">set("mpd.path","/var/lib/mpd/music")
</pre>
<h4>MPD port.</h4>
<p>
Default: <code>6600</code>
</p>
<pre class="syntax ">set("mpd.port",6600)
</pre>
<h4>Randomize order of MPD's results.</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("mpd.randomize",true)
</pre>
<h3>Playlist formats</h3>
<h3>Mime-types used for guessing formats</h3>
<h4>Mime types associated to XML-based playlist formats</h4>
<p>
Default: <code>["video/x-ms-asf","text/xml","application/xml","application/smil","application/xspf+xml","application/rss+xml"]</code>
</p>
<pre class="syntax ">set("playlists.mime_types.xml",["video/x-ms-asf","text/xml","application/xml","application/smil","application/xspf+xml","application/rss+xml"])
</pre>
<h3>requests configuration</h3>
<h4>maximum number of requests</h4>
<p>
Default: <code>50</code>
</p>
<pre class="syntax ">set("request.max_id",50)
</pre>
<h3>Streaming root node settings</h3>
<h4>Maximum latency in seconds</h4>
<p>
Default: <code>60.</code>
</p>
<pre class="syntax ">set("root.max_latency",60.)
</pre>
<p>
If the latency gets higher than this value, the outputs will be reset,
instead of trying to catch it up second by second.
The reset is typically only useful to reconnect icecast mounts.
</p>
<h4>Synchronization flag</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("root.sync",true)
</pre>
<p>
Control whether or not liquidsoap should take care of the timing.
Otherwise, the sources may handle it by themselves &ndash; typically in the 
case of un-bufferized alsa I/O, which turns root synchronization off
automatically.
Leaving the sources without synchronization can also be useful for 
debugging or measuring performance, as it results in liquidsoap running
as fast as possible.
</p>
<h3>Internal scheduler</h3>
<h4>Fast queues</h4>
<p>
Default: <code>0</code>
</p>
<pre class="syntax ">set("scheduler.fast_queues",0)
</pre>
<p>
Number of queues that are dedicated to fast tasks.
It might be useful to create some if your request resolutions,
or some user defined tasks (cf. <code>add_timeout()</code>), are
delayed too much because of slow tasks blocking the generic queues,
such as last.fm submissions or slow <code>add_timeout</code> handlers.
</p>
<h4>Generic queues</h4>
<p>
Default: <code>1</code>
</p>
<pre class="syntax ">set("scheduler.generic_queues",1)
</pre>
<p>
Number of event queues accepting any kind of task.
There should at least be one. Having more can be useful to avoid that
trivial request resolutions (local files) are not delayed because of
a stalled download. But N stalled download can block N queues anyway.
</p>
<h4>Log scheduler messages</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("scheduler.log",false)
</pre>
<h4>Non-blocking queues</h4>
<p>
Default: <code>1</code>
</p>
<pre class="syntax ">set("scheduler.non_blocking_queues",1)
</pre>
<p>
Number of queues dedicated to internal non-blocking tasks.
These are only started if such tasks are needed.
There should be at least one. Having more is probably useless.
</p>
<h3>Server configuration</h3>
<h4>Support for communication via a UNIX domain socket interface</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("server.socket",false)
</pre>
<p>
The main advantage of this method is that you can set very precisely
the access permissions for the socket, just like for any other file.
A useful command to use this interface is: “socat stdin unix:&lt;path&gt;”.
</p>
<h4>Path of the UNIX domain socket</h4>
<p>
Default: <code>"&lt;sysrundir&gt;/&lt;script&gt;.sock"</code>
</p>
<pre class="syntax ">set("server.socket.path","&lt;sysrundir&gt;/&lt;script&gt;.sock")
</pre>
<p>
In this filename, &lt;pid&gt;, &lt;script&gt; and &lt;sysrundir&gt; are replaced by 
their respective values: PID of the instance of liquidsoap,
base name of the .liq script (if any), default runtime data directory.
</p>
<h4>Socket permissions, up to umask</h4>
<p>
Default: <code>384</code>
</p>
<pre class="syntax ">set("server.socket.permissions",384)
</pre>
<p>
This parameter is better written in octal notation. Although you can 
write octal numbers like 0o660, they are not displayed back in octal. 
For example, the default value 384 is the decimal for 0o600.
</p>
<h4>Support for communication via a telnet interface</h4>
<p>
Default: <code>false</code>
</p>
<pre class="syntax ">set("server.telnet",false)
</pre>
<p>
This allows you to communicate with the server via a telnet interface,
i.e., a simple text-based communication over TCP.
The standard “telnet” command will allow you to communicate through
that interface, as well as the telnet libraries available in most
script languages.
Since there is currently no authentification, you should be careful
about who can access this interface: either restrict it to connections
from localhost (using the bind_addr param) or set up a firewall.
</p>
<h4>Network mask from which the telnet server should accept connections</h4>
<p>
Default: <code>"127.0.0.1"</code>
</p>
<pre class="syntax ">set("server.telnet.bind_addr","127.0.0.1")
</pre>
<h4>Port on which the telnet server should listen</h4>
<p>
Default: <code>1234</code>
</p>
<pre class="syntax ">set("server.telnet.port",1234)
</pre>
<h4>Perform reverse DNS lookup to get the client's hostname from its IP.</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("server.telnet.reverse_dns",true)
</pre>
<h3>Stream decoding settings</h3>
<h3>Mime-types used for guessing audio stream formats</h3>
<h4>Mime types associated to MP3 format</h4>
<p>
Default: <code>["audio/mpeg"]</code>
</p>
<pre class="syntax ">set("stream_decoding.mime_types.mp3",["audio/mpeg"])
</pre>
<h4>Mime types associated to Ogg container</h4>
<p>
Default: <code>["application/ogg","application/x-ogg","audio/x-ogg","audio/ogg","video/ogg"]</code>
</p>
<pre class="syntax ">set("stream_decoding.mime_types.ogg",["application/ogg","application/x-ogg","audio/x-ogg","audio/ogg","video/ogg"])
</pre>
<h4>Mime types associated to Ogg container. </h4>
<p>
This settings has been DEPRECATED.
Default: <code>["application/ogg","application/x-ogg","audio/x-ogg","audio/ogg","video/ogg"]</code>
</p>
<pre class="syntax ">set("stream_decoding.mime_types.vorbis",["application/ogg","application/x-ogg","audio/x-ogg","audio/ogg","video/ogg"])
</pre>
<h3>Settings related to metadata tags</h3>
<h4>List of encodings to try for automatic encoding detection</h4>
<p>
Default: <code>["UTF-8","ISO-8859-1"]</code>
</p>
<pre class="syntax ">set("tag.encodings",["UTF-8","ISO-8859-1"])
</pre>
<h3>Video settings</h3>
<h3>Video conversion</h3>
<h3>Gavl converter</h3>
<h4>Conversion quality</h4>
<p>
Default: <code>2</code>
</p>
<pre class="syntax ">set("video.converter.gavl.quality",2)
</pre>
<p>
Quality setting for gavl video conversion. Range from 1 to 5
</p>
<h4>Scale mode</h4>
<p>
Default: <code>"auto"</code>
</p>
<pre class="syntax ">set("video.converter.gavl.scale_mode","auto")
</pre>
<p>
Scale mode. Values must be one of: 
“auto”
“nearest”
“bilinear”
“quadratic”
“cubic_bspline”
“cubic_mitchell”
“cubic_catmull”
“scale_sinc_lanczos”
</p>
<h4>Prefered video converter</h4>
<p>
Default: <code>"gavl"</code>
</p>
<pre class="syntax ">set("video.converter.prefered","gavl")
</pre>
<h4>Prefered proportional scale.</h4>
<p>
Default: <code>true</code>
</p>
<pre class="syntax ">set("video.converter.proportional_scale",true)
</pre>
      <div id="footer"> 2003-2016 Savonet team</div>
    </div>
  </div>
  <script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
  <script type="text/javascript" src="../js/search.js"></script>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-927362-1']);
    _gaq.push(['_trackPageview']);
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
