function enhanceDownloads(a){var b=a.siblings("ul").first();b.children().each(function(a,b){var c=$(b).children(),d=c.attr("href").replace(/^#/,""),e=$('a:[name="'+d+'"]'),f=$('<a class="liq-search-hide" href="#">(hide)</a>');e.after(f);var g=e.parent().nextUntil("h3,#footer").andSelf();g.hide(),c.click(function(){var a=e.parent().nextUntil("h3,#footer").andSelf();a.fadeToggle("slow"),$("html, body").animate({scrollTop:e.offset().top},500);return!1}),f.click(function(){var a=e.parent().nextUntil("h3,#footer").andSelf();a.fadeOut("slow"),$("html, body").animate({scrollTop:$("body").offset().top},500);return!1})})}function enhanceFaq(a){var b=[],c=[],d=$("<ul></ul>"),e=a.nextAll("h4");e.each(function(){var a=$(this),e=$("<ul></ul>"),f=a.nextUntil("h4,#footer").filter("h5");if(f.length>0){f.each(function(){var a=$(this),d=a.text();c.push(d);var f=d.replace(/[^\w]/g,"_"),g=$('<a href="#" id="'+f+'">'+d+"</a>"),h=a.nextUntil("h5,h4,#footer"),i=$('<div class="liq-faq-content"></div>');i.append(h.detach()),b.push(i),g.click(function(){var a={};a.item={},a.item.value=d,selectSearch("click",a);return!1});var j=$("<li></li>");j.append(g).append(i),e.append(j),a.remove()}),b.push(e);var g=a.text(),h=$('<a href="#">'+g+"</a>");h.click(function(){e.fadeToggle("fast");return!1});var i=$("<li></li>");i.append(h).append(e),d.append(i)}a.remove()}),a.after(d),d.before(searchBox(c)),jQuery.each(b,function(a,b){b.css("display","none")})}function enhanceSettings(a){var b=[],c=[],d=$("<ul></ul>"),e=a.nextAll("h3");e.each(function(){var a=$(this),e=$("<ul></ul>"),f=a.nextUntil("h3,#footer").filter("h4");if(f.length>0){f.each(function(){var a=$(this),d=a.text();c.push(d);var f=d.replace(/[^\w]/g,"_"),g=$('<a href="#" id="'+f+'">'+d+"</a>"),h=a.nextUntil("h4,h3,#footer"),i=$('<div class="liq-setings-content"></div>');i.append(h.detach()),b.push(i),g.click(function(){i.fadeToggle("fast");return!1});var j=$("<li></li>");j.append(g).append(i),e.append(j),a.remove()}),b.push(e);var g=a.text(),h=$('<a href="#">'+g+"</a>");h.click(function(){e.fadeToggle("fast");return!1});var i=$("<li></li>");i.append(h).append(e),d.append(i)}a.remove()}),a.after(d),d.before(searchBox(c)),jQuery.each(b,function(a,b){b.css("display","none")})}function enhanceRef(a){var b=a.parent().find("h3").find("a[name]"),c=[],d=[];b.each(function(){var a=$(this),b=a.parent().nextUntil("h3,#footer"),e=a.attr("name"),f=$("a[href=#"+e+"]");f.attr("id",e);var g=$('<ul class="liq-api-sec"></ul>');c.push(g);var h=!1,i=function(){h?document.location.hash="":document.location.hash=e,h=!h};f.click(function(){g.fadeToggle({duration:"fast",complete:i});return!1}),f.after(g),a.parent().remove();var j=b.filter("h5");j.each(function(){var a=$(this),b=a.text();d.push(b);var e=b.replace(/[^\w]/g,"_"),f=$('<a href="#'+e+'" id="'+e+'">'+b+"</a>"),h=a.nextUntil("h5,h3,#footer"),i=$('<li class="liq-api-elem"></li>'),j=$('<div class="liq-api-content"></div>');j.append(h.detach()),i.append(f).append(j),g.append(i),c.push(j);var k,l=function(){k?document.location.hash="":document.location.hash=e,k=!k};f.click(function(){j.fadeToggle({complete:l});return!1}),a.remove()})}),a.nextAll("ul").before(searchBox(d)),jQuery.each(c,function(a,b){b.css("display","none")})}function searchBox(a){var b=$('<div id="liq-div-search">\n                  <label for="liq-search">Search: </label>\n                  <input id="liq-search"/>\n                  </div>\n                  <div id="liq-search-result"></div>');b.filter("#liq-search").css("display","none"),b.find("#liq-search").autocomplete({source:a,select:selectSearch});return b}function selectSearch(a,b){if(b.item){var c=b.item.value.replace(/[^\w]/g,"_"),d=$("#"+c),e=d.next().clone().css("display","none"),f=$('<div id="liq-search-header">\n                    <h4>'+d.text()+'\n                    <a href="#" class="liq-search-hide">(hide)</a>\n                    </h4></div>').css("display","none"),g=$("#liq-search-result");g.empty().append(f).append(e),document.location.hash=c,g.children().fadeIn("fast"),f.find("a").click(function(){g.children().fadeOut("fast"),document.location.hash="";return!1})}}$(document).ready(function(){var a=$("h2:contains('Liquidsoap scripting language reference')");a.length>0&&enhanceRef(a);var b=$("h2:contains('Liquidsoap configuration')");b.length>0&&enhanceSettings(b);var c=$("h2:contains('Installing Savonet')");c.length>0&&enhanceDownloads(c);var d=$("h3:contains('Frequently Asked Questions')");d.length>0&&enhanceFaq(d);var e=document.URL.split("#");if(e.length>1&&e[1].length>0){var f="#"+e[1],g=$(f);g.parent().parent().show(),g.siblings().show(),$("html, body").animate({scrollTop:g.offset().top},500)}$(".syntax,.liq").removeClass("liq").addClass("ruby"),$.syntax({blockLayout:"plain",theme:"modern",replace:!0},function(a,b,c){b=$(b),c.css("display")=="none"&&b.hide();return b})})